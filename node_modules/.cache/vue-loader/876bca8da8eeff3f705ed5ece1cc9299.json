{"remainingRequest":"/Users/chenyiquan/Vue/sunny-vue-ele/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenyiquan/Vue/sunny-vue-ele/src/views/city/citys.vue?vue&type=style&index=0&id=1fe45a5e&scoped=true&lang=stylus&","dependencies":[{"path":"/Users/chenyiquan/Vue/sunny-vue-ele/src/views/city/citys.vue","mtime":1539855842322},{"path":"/Users/chenyiquan/Vue/sunny-vue-ele/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/chenyiquan/Vue/sunny-vue-ele/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/chenyiquan/Vue/sunny-vue-ele/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenyiquan/Vue/sunny-vue-ele/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/chenyiquan/Vue/sunny-vue-ele/node_modules/cache-loader/dist/cjs.js","mtime":1539661153075},{"path":"/Users/chenyiquan/Vue/sunny-vue-ele/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.city_wrapper\n  position fixed\n  top .55rem\n  bottom 0\n  width 100%\n  height 100%\n  overflow hidden\n  .input_wrapper\n    position fixed\n    top 0\n    left 0\n    z-index 999\n    width 100%\n    height .5rem\n    .input_flex\n      display flex\n      padding 0 .1rem\n      width 100%\n      height .5rem\n      align-items center\n      box-sizing border-box\n      background-color #fff\n      >i \n        flex 0 0 10%\n        font-size .22rem\n      >p\n        position relative\n        flex 1\n        input\n          width 100%\n          height .36rem\n          background-color #f5f5f5\n          border none\n          border-radius .1rem\n          text-indent 2.5em\n        i\n          position absolute\n          left .15rem\n          top 50%\n          transform translateY(-50%)\n",{"version":3,"sources":["citys.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"citys.vue","sourceRoot":"src/views/city","sourcesContent":["<template>\n  <div class=\"city_wrapper\">\n    <div class=\"input_wrapper\">\n      <div class=\"input_flex\">\n        <i class=\"iconfont icon-fanhui\"></i>\n        <p>\n          <input type=\"text\" placeholder=\"请搜索城市名\">\n          <i class=\"iconfont icon-sousuo\"></i>\n        </p>\n        <i class=\"iconfont icon-tubiao-\"></i>\n      </div>\n    </div>\n    <list-view :data=\"cityListArr\" :hotcity=\"hotcity\" :cityList=\"cityList\"></list-view>\n  </div>\n</template>\n\n<script>\n  import ListView from './listView'\n  import {cityGuess, hotcity, groupcity} from '../../service/getData'\n\n  export default {\n    components: {\n      ListView\n    },\n    data() {\n      return {\n        guessCity: '',   //当前城市\n        guessCityid: '', //当前城市id\n        hotcity: [],     //热门城市列表\n        groupcity: {},   //所有城市列表\n        cityList: {},\n        cityListArr: []\n      }\n    },\n    mounted() {\n      this._initData()\n    },\n    methods: {\n      _initData() {\n        // 获取当前城市\n        cityGuess().then(res => {\n          this.guessCity = res.name;\n          this.guessCityid = res.id;\n        })\n\n        //获取热门城市\n        hotcity().then(res => {\n          this.hotcity = res;\n          console.log(res)\n        })\n\n        //获取所有城市\n        groupcity().then(res => {\n          this.cityListArr = Object.values(res)\n          this.cityList = this.normalizeCityList(res)\n        })\n      },\n      normalizeCityList(map) {\n        if (!map) return {}\n        let sortobj = {\n          '热': this.hotcity\n        };\n        for (let i = 65; i <= 90; i++) {\n          if (map[String.fromCharCode(i)]) {\n            sortobj[String.fromCharCode(i)] = map[String.fromCharCode(i)];\n          }\n        }\n        console.log(1,sortobj)\n        return sortobj\n      }\n    },\n  }\n</script>\n\n<style scoped lang=\"stylus\">\n  .city_wrapper\n    position fixed\n    top .55rem\n    bottom 0\n    width 100%\n    height 100%\n    overflow hidden\n    .input_wrapper\n      position fixed\n      top 0\n      left 0\n      z-index 999\n      width 100%\n      height .5rem\n      .input_flex\n        display flex\n        padding 0 .1rem\n        width 100%\n        height .5rem\n        align-items center\n        box-sizing border-box\n        background-color #fff\n        >i \n          flex 0 0 10%\n          font-size .22rem\n        >p\n          position relative\n          flex 1\n          input\n            width 100%\n            height .36rem\n            background-color #f5f5f5\n            border none\n            border-radius .1rem\n            text-indent 2.5em\n          i\n            position absolute\n            left .15rem\n            top 50%\n            transform translateY(-50%)\n</style>"]}]}